
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>05 Debugging Tips</title>
    <style>
        body { font-family: system-ui, -apple-system, sans-serif; line-height: 1.6; max-width: 800px; margin: 0 auto; padding: 20px; color: #333; }
        pre { background: #f4f4f4; padding: 15px; border-radius: 5px; overflow-x: auto; }
        code { background: #f4f4f4; padding: 2px 5px; border-radius: 3px; font-family: monospace; }
        a { color: #007bff; text-decoration: none; }
        a:hover { text-decoration: underline; }
        table { border-collapse: collapse; width: 100%; margin: 20px 0; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
        img { max-width: 100%; height: auto; }
    </style>
</head>
<body>
<hr />
<p>title: "2.5 TÃ¢m phÃ¡p debug hiá»‡u quáº£"
description: "Log Ä‘áº§y Ä‘á»§ vÃ  sá»­a lá»—i vÃ²ng láº·p"
chapter: "ChÆ°Æ¡ng 2"</p>
<hr />
<h1>2.5 TÃ¢m phÃ¡p debug hiá»‡u quáº£ ğŸŸ¢</h1>
<blockquote>
<p><strong>Äá»c xong pháº§n nÃ y, báº¡n sáº½ thu hoáº¡ch Ä‘Æ°á»£c:</strong></p>
<ul>
<li>Náº¯m vá»¯ng cÃ´ng thá»©c giao tiáº¿p debug AI hiá»‡u quáº£</li>
<li>Há»c cÃ¡ch cung cáº¥p nháº­t kÃ½ lá»—i (log) Ä‘áº§y Ä‘á»§ vÃ  ngá»¯ cáº£nh</li>
<li>Hiá»ƒu mÃ´ hÃ¬nh sá»­a lá»—i vÃ²ng láº·p, láº·p láº¡i liÃªn tá»¥c cho Ä‘áº¿n khi váº¥n Ä‘á» Ä‘Æ°á»£c giáº£i quyáº¿t</li>
<li>Biáº¿t chiÃªu cuá»‘i "Äá»ƒ AI tá»± build"</li>
</ul>
<p>Lá»i nÃ³i Ä‘áº§u Ä‘Ã£ nháº¯c Ä‘áº¿n "TÃ¢m phÃ¡p debug": Cung cáº¥p nháº­t kÃ½ bÃ¡o lá»—i Ä‘áº§y Ä‘á»§ vÃ  mÃ´ hÃ¬nh sá»­a lá»—i vÃ²ng láº·p.</p>
</blockquote>
<h2>Kiáº¿n thá»©c tiá»n Ä‘á»</h2>
<p>::: tip Debug lÃ  gÃ¬</p>
<p>Debug (Gá»¡ lá»—i) lÃ  quÃ¡ trÃ¬nh phÃ¡t hiá»‡n vÃ  sá»­a chá»¯a lá»—i code.
:::</p>
<p>::: tip Nháº­t kÃ½ lá»—i lÃ  gÃ¬</p>
<p>Nháº­t kÃ½ lá»—i (Error Log) lÃ  thÃ´ng tin chi tiáº¿t Ä‘Æ°á»£c xuáº¥t ra khi chÆ°Æ¡ng trÃ¬nh bá»‹ crash hoáº·c gáº·p ngoáº¡i lá»‡, bao gá»“m loáº¡i lá»—i, vá»‹ trÃ­, ngÄƒn xáº¿p (stack)...
:::</p>
<p>::: tip Stack lÃ  gÃ¬</p>
<p>NgÄƒn xáº¿p (Stack Trace) lÃ  chuá»—i gá»i hÃ m khi xáº£y ra lá»—i, hiá»ƒn thá»‹ lá»—i phÃ¡t sinh tá»« dÃ²ng nÃ o, hÃ m nÃ o, Ä‘Æ°á»£c gá»i qua cÃ¡c táº§ng nÃ o. NÃ³ giÃºp báº¡n truy váº¿t nguá»“n gá»‘c lá»—i.
:::</p>
<hr />
<h2>CÃ´ng thá»©c giao tiáº¿p debug: Log Ä‘áº§y Ä‘á»§ + CÃ¡c bÆ°á»›c thao tÃ¡c + Káº¿t quáº£ ká»³ vá»ng</h2>
<p>Khi debug, <strong>náº¿u báº¡n khÃ´ng cháº¯c váº¥n Ä‘á» á»Ÿ Ä‘Ã¢u</strong>, báº¡n khÃ´ng cáº§n:</p>
<ul>
<li>âŒ PhÃ¢n tÃ­ch nguyÃªn nhÃ¢n lá»—i</li>
<li>âŒ ÄoÃ¡n váº¥n Ä‘á» cÃ³ thá»ƒ xáº£y ra</li>
<li>âŒ Thá»­ Ä‘á»§ cÃ¡c phÆ°Æ¡ng phÃ¡p sá»­a lá»—i</li>
</ul>
<p><strong>Báº¡n chá»‰ cáº§n</strong>:</p>
<ul>
<li>âœ… Cung cáº¥p nháº­t kÃ½ lá»—i Ä‘áº§y Ä‘á»§</li>
<li>âœ… NÃ³i rÃµ báº¡n Ä‘Ã£ thao tÃ¡c gÃ¬</li>
<li>âœ… Cho AI biáº¿t káº¿t quáº£ báº¡n ká»³ vá»ng</li>
</ul>
<p><strong>AI sáº½ tá»± Ä‘á»™ng</strong>:</p>
<ul>
<li>PhÃ¢n tÃ­ch loáº¡i lá»—i vÃ  nguyÃªn nhÃ¢n gá»‘c rá»…</li>
<li>TÃ¬m kiáº¿m váº¥n Ä‘á» tÆ°Æ¡ng tá»± vÃ  giáº£i phÃ¡p</li>
<li>Thá»­ nhiá»u phÆ°Æ¡ng phÃ¡p sá»­a lá»—i</li>
<li>XÃ¡c minh xem sá»­a lá»—i cÃ³ hiá»‡u quáº£ khÃ´ng</li>
</ul>
<p><strong>Máº¥u chá»‘t</strong>: Cho AI Ä‘á»§ ngá»¯ cáº£nh, Ä‘á»«ng Ä‘á»ƒ nÃ³ Ä‘oÃ¡n báº¡n Ä‘Ã£ lÃ m gÃ¬.</p>
<p><strong>VÃ­ dá»¥</strong>:</p>
<pre><code class="language-bash"># âŒ Äá»«ng lÃ m tháº¿ nÃ y
&quot;BÃ¡o lá»—i rá»“i, xem giÃºp tÃ´i vá»›i&quot;
&quot;Code khÃ´ng cháº¡y Ä‘Æ°á»£c&quot;

# âœ… Tháº¿ nÃ y lÃ  Ä‘á»§
TÃ´i cháº¡y pnpm dev Ä‘á»ƒ khá»Ÿi Ä‘á»™ng dá»± Ã¡n, terminal bÃ¡o lá»—i:

[Nháº­t kÃ½ lá»—i Ä‘áº§y Ä‘á»§]

Káº¿t quáº£ tÃ´i ká»³ vá»ng lÃ : Server phÃ¡t triá»ƒn khá»Ÿi Ä‘á»™ng bÃ¬nh thÆ°á»ng, cÃ³ thá»ƒ truy cáº­p táº¡i localhost:3000
GiÃºp tÃ´i phÃ¢n tÃ­ch vÃ  sá»­a váº¥n Ä‘á» nÃ y

# Náº¿u láº§n Ä‘áº§u chÆ°a giáº£i quyáº¿t Ä‘Æ°á»£c
ÄÃ£ sá»­a theo cÃ¡ch cá»§a báº¡n, giá» xuáº¥t hiá»‡n lá»—i má»›i:

[Nháº­t kÃ½ lá»—i má»›i]

HÃ£y tiáº¿p tá»¥c phÃ¢n tÃ­ch
</code></pre>
<p><strong>MÃ´ hÃ¬nh sá»­a lá»—i vÃ²ng láº·p</strong>:</p>
<pre><code class="language-mermaid">graph TB
    A[Thá»­ sá»­a lá»—i] --&gt; B{ÄÃ£ giáº£i quyáº¿t chÆ°a?}
    B --&gt;|Rá»“i| C[HoÃ n thÃ nh]
    B --&gt;|ChÆ°a| D[MÃ´ táº£ tÃ¬nh huá»‘ng má»›i + Log má»›i]
    D --&gt; A
    C --&gt; E[ThÆ°á»ng 2-3 vÃ²ng]
</code></pre>
<hr />
<h2>ChiÃªu cuá»‘i: Äá»ƒ AI tá»± Build</h2>
<p>CÃ²n má»™t cÃ¡ch Ä‘á»¡ tá»‘n sá»©c hÆ¡n: <strong>Vá»©t cáº£ dá»± Ã¡n cho AI, báº£o nÃ³ tá»± cháº¡y má»™t lÆ°á»£t</strong>.</p>
<pre><code class="language-bash"># NÃ³i trong cÃ´ng cá»¥ AI:
&quot;HÃ£y giÃºp tÃ´i cháº¡y pnpm install &amp;&amp; pnpm build, náº¿u gáº·p lá»—i hÃ£y tá»± sá»­a, cho Ä‘áº¿n khi build thÃ nh cÃ´ng&quot;
</code></pre>
<p><strong>Táº¡i sao hiá»‡u quáº£</strong>:</p>
<ul>
<li>AI nhÃ¬n tháº¥y lá»—i thá»±c táº¿ trá»±c tiáº¿p, khÃ´ng cáº§n báº¡n tÆ°á»ng thuáº­t láº¡i</li>
<li>CÃ¡c váº¥n Ä‘á» nhá» (xung Ä‘á»™t phiÃªn báº£n, thiáº¿u dependency, sai Ä‘Æ°á»ng dáº«n) AI thÆ°á»ng tá»± giáº£i quyáº¿t Ä‘Æ°á»£c</li>
<li>Báº¡n chá»‰ cáº§n xem káº¿t quáº£, Ä‘á»¡ pháº£i giao tiáº¿p qua láº¡i</li>
</ul>
<p><strong>Ngá»¯ cáº£nh Ã¡p dá»¥ng</strong>:</p>
<ul>
<li>Tiáº¿p nháº­n dá»± Ã¡n má»›i, khÃ´ng biáº¿t báº¯t Ä‘áº§u tá»« Ä‘Ã¢u</li>
<li>Sá»­a mÃ£i váº«n bÃ¡o lá»—i, cÃ ng sá»­a cÃ ng loáº¡n</li>
<li>CI/CD táº¡ch, mÃ  local khÃ´ng tÃ¡i hiá»‡n Ä‘Æ°á»£c</li>
</ul>
<p><strong>LÆ°u Ã½</strong>:</p>
<ul>
<li>Äáº£m báº£o code Ä‘Ã£ git commit, AI cÃ³ sá»­a há»ng cÅ©ng rollback Ä‘Æ°á»£c</li>
<li>Láº§n build Ä‘áº§u cÃ³ thá»ƒ cáº§n sá»­a nhiá»u vÃ²ng, kiÃªn nháº«n chá» Ä‘á»£i</li>
<li>Náº¿u AI rÆ¡i vÃ o vÃ²ng láº·p cháº¿t (sá»­a Ä‘i sá»­a láº¡i má»™t chá»—), hÃ£y ká»‹p thá»i ngáº¯t lá»i</li>
</ul>
<hr />
<h2>Case thá»±c chiáº¿n</h2>
<h3>Case 1: Lá»—i kiá»ƒu dá»¯ liá»‡u (Type error)</h3>
<p><strong>Nháº­t kÃ½ lá»—i</strong>:</p>
<pre><code>Type error: 'user' is possibly 'undefined'.
  at App (app/page.tsx:15:10)
</code></pre>
<p><strong>âŒ MÃ´ táº£ sai</strong>:</p>
<pre><code>&quot;Lá»—i kiá»ƒu rá»“i, xem giÃºp tÃ´i&quot;
</code></pre>
<p><strong>âœ… MÃ´ táº£ Ä‘Ãºng</strong>:</p>
<pre><code>TypeScript bÃ¡o lá»—i:

File: app/page.tsx
DÃ²ng: 15
Lá»—i: 'user' is possibly 'undefined'

Code:
const user = await getUser();
return &lt;div&gt;{user.name}&lt;/div&gt;;  // line 15

LÃ m sao xá»­ lÃ½ tÃ¬nh huá»‘ng cÃ³ thá»ƒ lÃ  undefined?
</code></pre>
<p><strong>AI phÃ¢n tÃ­ch</strong>:</p>
<pre><code>user cÃ³ thá»ƒ lÃ  undefined, cáº§n:
1. ThÃªm kiá»ƒm tra kiá»ƒu
2. Cung cáº¥p giÃ¡ trá»‹ máº·c Ä‘á»‹nh
3. Hoáº·c sá»­ dá»¥ng optional chaining
</code></pre>
<hr />
<h3>Case 2: Lá»—i runtime</h3>
<p><strong>Nháº­t kÃ½ lá»—i</strong>:</p>
<pre><code>Error: connect ECONNREFUSED 127.0.0.1:5432
    at Connection.&lt;anonymous&gt; (node_modules/pg/lib/client.js:89:17)
    at Socket.emit (events.js:315:13)
</code></pre>
<p><strong>âŒ MÃ´ táº£ sai</strong>:</p>
<pre><code>&quot;Káº¿t ná»‘i cÆ¡ sá»Ÿ dá»¯ liá»‡u tháº¥t báº¡i&quot;
</code></pre>
<p><strong>âœ… MÃ´ táº£ Ä‘Ãºng</strong>:</p>
<pre><code>Lá»—i káº¿t ná»‘i cÆ¡ sá»Ÿ dá»¯ liá»‡u:

Lá»—i: connect ECONNREFUSED 127.0.0.1:5432

MÃ´i trÆ°á»ng:
- MÃ´i trÆ°á»ng phÃ¡t triá»ƒn
- PostgreSQL láº½ ra Ä‘ang cháº¡y cá»¥c bá»™
- Trong .env thÃ¬ DATABASE_URL=&quot;postgresql://localhost:5432/mydb&quot;

NguyÃªn nhÃ¢n cÃ³ thá»ƒ:
1. PostgreSQL chÆ°a báº­t?
2. Sai port?
3. Cáº¥u hÃ¬nh .env sai?
</code></pre>
<p><strong>AI phÃ¢n tÃ­ch</strong>:</p>
<pre><code>ECONNREFUSED biá»ƒu thá»‹ dá»‹ch vá»¥ chÆ°a cháº¡y.
Kiá»ƒm tra:
1. PostgreSQL Ä‘Ã£ khá»Ÿi Ä‘á»™ng chÆ°a
2. Port cÃ³ Ä‘Ãºng khÃ´ng (máº·c Ä‘á»‹nh 5432)
3. Cháº¡y lá»‡nh kiá»ƒm tra:
   Mac/Linux: brew services list
   Windows: sc query postgresql-x64-[version]
</code></pre>
<hr />
<h3>Case 3: Lá»—i build</h3>
<p><strong>Nháº­t kÃ½ lá»—i</strong>:</p>
<pre><code>âœ˜ [ERROR] Could not resolve &quot;./components/Button&quot;

    app/page.tsx:3:24:
      3 â”‚ import { Button } from &quot;./components/Button&quot;;
        â•©                         ~~~~~~~~~~~~~~~~~~~~
    This file does not exist.
</code></pre>
<p><strong>âŒ MÃ´ táº£ sai</strong>:</p>
<pre><code>&quot;Build tháº¥t báº¡i rá»“i&quot;
</code></pre>
<p><strong>âœ… MÃ´ táº£ Ä‘Ãºng</strong>:</p>
<pre><code>Lá»—i build:

Could not resolve &quot;./components/Button&quot;

Vá»‹ trÃ­ file: app/page.tsx:3:24
import { Button } from &quot;./components/Button&quot;;

TÃ¬nh huá»‘ng thá»±c táº¿:
- Dá»± Ã¡n sá»­ dá»¥ng shadcn/ui
- Component Button láº½ ra á»Ÿ components/ui/button.tsx

LÃ m sao sá»­a Ä‘Æ°á»ng dáº«n import?
</code></pre>
<hr />
<h2>Tra cá»©u nhanh máº«u lá»—i thÆ°á»ng gáº·p</h2>
<table>
<thead>
<tr>
<th>Loáº¡i lá»—i</th>
<th>ThÃ´ng tin Ä‘iá»ƒn hÃ¬nh</th>
<th>HÆ°á»›ng giáº£i quyáº¿t</th>
</tr>
</thead>
<tbody>
<tr>
<td>Lá»—i kiá»ƒu</td>
<td><code>Type 'X' is not assignable to type 'Y'</code></td>
<td>Kiá»ƒm tra Ä‘á»‹nh nghÄ©a kiá»ƒu, dÃ¹ng Ã©p kiá»ƒu (assertion) hoáº·c sá»­a kiá»ƒu</td>
</tr>
<tr>
<td>Lá»—i giÃ¡ trá»‹ rá»—ng</td>
<td><code>Cannot read property 'X' of undefined</code></td>
<td>ThÃªm kiá»ƒm tra null, optional chaining, giÃ¡ trá»‹ máº·c Ä‘á»‹nh</td>
</tr>
<tr>
<td>Lá»—i import</td>
<td><code>Module not found: Can't resolve 'X'</code></td>
<td>CÃ i dependency, sá»­a Ä‘Æ°á»ng dáº«n, kiá»ƒm tra export</td>
</tr>
<tr>
<td>Lá»—i máº¡ng</td>
<td><code>ECONNREFUSED / ENOTFOUND</code></td>
<td>Kiá»ƒm tra tráº¡ng thÃ¡i dá»‹ch vá»¥, URL, káº¿t ná»‘i máº¡ng</td>
</tr>
<tr>
<td>Chiáº¿m dá»¥ng port</td>
<td><code>Address already in use :3000</code></td>
<td>Táº¯t tiáº¿n trÃ¬nh chiáº¿m port hoáº·c Ä‘á»•i port</td>
</tr>
<tr>
<td>Lá»—i quyá»n háº¡n</td>
<td><code>EACCES / Permission denied</code></td>
<td>Kiá»ƒm tra quyá»n file, dÃ¹ng sudo hoáº·c Ä‘á»•i quyá»n</td>
</tr>
<tr>
<td>Lá»—i cÃº phÃ¡p</td>
<td><code>Unexpected token / SyntaxError</code></td>
<td>Kiá»ƒm tra chÃ­nh táº£ cÃº phÃ¡p, chÃº Ã½ khá»›p ngoáº·c vÃ  dáº¥u nhÃ¡y</td>
</tr>
</tbody>
</table>
<hr />
<h2>Triáº¿t lÃ½ cá»‘t lÃµi</h2>
<p><strong>Debug lÃ  quÃ¡ trÃ¬nh bÃ¡c sÄ© cháº©n bá»‡nh</strong>.</p>
<pre><code class="language-mermaid">graph LR
    A[Triá»‡u chá»©ng Ä‘áº§y Ä‘á»§] --&gt; B[Cháº©n Ä‘oÃ¡n chÃ­nh xÃ¡c]
    C[MÃ´ táº£ mÆ¡ há»“] --&gt; D[ÄoÃ¡n mÃ²]

    B --&gt; E[Äiá»u trá»‹ nhanh]
    D --&gt; F[Thá»­ sai liÃªn tá»¥c]
</code></pre>
<p><strong>Ghi nhá»›</strong>:</p>
<ol>
<li><strong>Log Ä‘áº§y Ä‘á»§</strong>: Äá»«ng cáº¯t bá»›t, thÃ´ng tin stack ráº¥t quan trá»ng</li>
<li><strong>CÃ¡c bÆ°á»›c thao tÃ¡c</strong>: NÃ³i rÃµ báº¡n lÃ m gÃ¬ má»›i kÃ­ch hoáº¡t lá»—i</li>
<li><strong>Káº¿t quáº£ ká»³ vá»ng</strong>: Cho AI biáº¿t báº¡n muá»‘n gÃ¬</li>
<li><strong>Sá»­a lá»—i vÃ²ng láº·p</strong>: Äá»«ng bá» cuá»™c, thÆ°á»ng 2-3 vÃ²ng lÃ  xong</li>
<li><strong>Pháº£n há»“i káº¿t quáº£</strong>: Má»—i láº§n sá»­a xong hÃ£y bÃ¡o láº¡i tÃ¬nh hÃ¬nh má»›i cho AI</li>
</ol>
<p><strong>CÃ´ng thá»©c debug</strong>:</p>
<pre><code>Nháº­t kÃ½ lá»—i Ä‘áº§y Ä‘á»§
+ CÃ¡c bÆ°á»›c thao tÃ¡c (Báº¡n Ä‘Ã£ lÃ m gÃ¬)
+ Káº¿t quáº£ ká»³ vá»ng (Báº¡n muá»‘n gÃ¬)
= Giáº£i phÃ¡p nhanh chÃ³ng
</code></pre>
<p><strong>CÃ´ng thá»©c chiÃªu cuá»‘i</strong>:</p>
<pre><code>git commit báº£o lÆ°u hiá»‡n trÆ°á»ng
+ Äá»ƒ AI tá»± cháº¡y build
+ Gáº·p lá»—i Ä‘á»ƒ nÃ³ tá»± sá»­a
+ = NhÃ n háº¡
</code></pre>
<hr />
<h2>Ná»™i dung liÃªn quan</h2>
<ul>
<li>TrÆ°á»›c Ä‘Ã³: 2.2 VibeCoding Quy trÃ¬nh lÃ m viá»‡c chi tiáº¿t</li>
</ul>
</body>
</html>
