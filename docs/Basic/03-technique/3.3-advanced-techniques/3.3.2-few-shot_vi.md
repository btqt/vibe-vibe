---
title: "3.3.2 Few-shot Prompting: Dùng ví dụ dạy AI"
---

![03-technique_3.3-advanced-techniques_3.3.2-few-shot.png](../../../public/images/Basic/03-technique_3.3-advanced-techniques_3.3.2-few-shot.png)

# 3.3.2 Few-shot Prompting: Dùng ví dụ dạy AI

## Sau bài học này, bạn sẽ nắm được

- Định nghĩa và nguyên lý hoạt động của Few-shot
- Tại sao ví dụ lại hiệu quả hơn giải thích dài dòng
- Cách lựa chọn ví dụ chất lượng cao
- Best practice về số lượng ví dụ
- Bối cảnh phù hợp và hạn chế của Few-shot

## Few-shot Prompting là gì

Few-shot (Có mẫu/Ít ví dụ) nghĩa là: **Cho AI vài ví dụ, để nó học theo mẫu rồi mới xử lý nhiệm vụ mới**.

```
Nhiệm vụ: Chuyển đổi nhu cầu người dùng thành nhiệm vụ kỹ thuật

Ví dụ 1:
Nhu cầu: "Người dùng có thể thêm việc cần làm"
Nhiệm vụ:
- Tạo component ô nhập liệu
- Xử lý sự kiện click nút thêm
- Cập nhật trạng thái danh sách nhiệm vụ

Ví dụ 2:
Nhu cầu: "Người dùng có thể xóa việc cần làm"
Nhiệm vụ:
- Thêm nút xóa cho mỗi nhiệm vụ
- Xử lý logic xác nhận xóa
- Loại bỏ nhiệm vụ tương ứng khỏi danh sách

Bây giờ hãy xử lý:
Nhu cầu: "Người dùng có thể đánh dấu nhiệm vụ là đã hoàn thành"
```

Sau khi xem 2 ví dụ, AI đã "học được" quy tắc chuyển đổi, có thể xử lý nhu cầu mới theo định dạng tương tự.

## Insight cốt lõi: Tại sao ví dụ hiệu quả hơn giải thích

> "Làm mẫu một lần, hơn giải thích trăm lần."

Điều này không hề phóng đại. Khi con người học kỹ năng mới, xem làm mẫu hiệu quả hơn nghe giảng giải. AI cũng vậy.

| Cách thức                   | Hiệu quả                                    | Lý do                             |
| :-------------------------- | :------------------------------------------ | :-------------------------------- |
| Giải thích quy tắc dài dòng | Dễ bỏ sót chi tiết, định dạng không ổn định | AI cần "thấu hiểu" ý định của bạn |
| Cung cấp ví dụ              | Định dạng nhất quán, chi tiết đầy đủ        | AI trực tiếp "mô phỏng" mẫu       |

**Thực tế kiểm nghiệm cho thấy**: Đối với nhiệm vụ xuất ra định dạng chuẩn, độ chính xác của Few-shot cao hơn Zero-shot từ 20-40%.

## Số lượng ví dụ: Bao nhiêu là phù hợp nhất?

| Số lượng             | Bối cảnh áp dụng                    | Cân nhắc                                                      |
| :------------------- | :---------------------------------- | :------------------------------------------------------------ |
| **1 cái** (One-shot) | Định dạng rõ ràng, quy tắc đơn giản | Tiết kiệm token nhất, nhưng mẫu có thể chưa đủ rõ             |
| **2-3 cái**          | Đa số các bối cảnh                  | Cân bằng giữa hiệu quả và chi phí, khuyên dùng mặc định       |
| **4-5 cái**          | Mẫu phức tạp, nhiều trường hợp biên | Hiệu quả tốt hơn, nhưng tốn token hơn                         |
| **Nhiều hơn**        | Rất ít khi cần                      | Lợi ích giảm dần, nên cân nhắc fine-tune (tinh chỉnh) mô hình |

**Quy tắc kinh nghiệm**: Bắt đầu từ 2 ví dụ, nếu đầu ra không ổn định thì tăng lên 3.

## Cách chọn ví dụ chất lượng cao

### Nguyên tắc 1: Tính đại diện

Ví dụ phải bao gồm **tình huống điển hình**, đừng chỉ toàn là ngoại lệ.

```
❌ Chọn ví dụ dở (toàn là trường hợp biên):
- Xử lý chuỗi rỗng
- Xử lý văn bản siêu dài
- Xử lý ký tự đặc biệt

✅ Chọn ví dụ tốt (điển hình trước, biên sau):
- Văn bản độ dài bình thường (điển hình)
- Văn bản chứa cả tiếng Anh và tiếng Việt (biến thể thường gặp)
- Xử lý chuỗi rỗng (trường hợp biên)
```

### Nguyên tắc 2: Tính đa dạng

Ví dụ phải bao gồm **các loại khác nhau**, tránh để AI quá khớp (overfitting) vào một mẫu duy nhất.

```
Nhiệm vụ: Phân loại phản hồi người dùng

❌ Ví dụ dở (toàn là tiêu cực):
- "Khó dùng quá" → Tiêu cực
- "Phần mềm rác" → Tiêu cực

✅ Ví dụ tốt (bao phủ các loại):
- "Khó dùng quá" → Tiêu cực
- "Cũng được, nhưng mong thêm chế độ ban đêm" → Trung tính
- "Dùng 3 tháng rồi, hiệu suất tăng nhiều" → Tích cực
```

### Nguyên tắc 3: Nhất quán định dạng

Định dạng đầu vào và đầu ra của tất cả các ví dụ **phải thống nhất**.

```
❌ Định dạng không nhất quán:
Ví dụ 1: Đầu vào "..." → Đầu ra: Danh sách nhiệm vụ
Ví dụ 2: Đầu vào: "..." Đầu ra - Nhiệm vụ 1 - Nhiệm vụ 2

✅ Định dạng nhất quán:
Ví dụ 1:
Đầu vào: "..."
Đầu ra:
- Nhiệm vụ 1
- Nhiệm vụ 2

Ví dụ 2:
Đầu vào: "..."
Đầu ra:
- Nhiệm vụ 1
- Nhiệm vụ 2
```

## Prompt dở vs Prompt tốt

### ❌ Prompt dở

```
Giúp tôi chuyển User Story thành nhiệm vụ phát triển, định dạng phải rõ ràng, bao gồm công việc frontend và backend.

User Story: Là người dùng, tôi muốn có thể tìm kiếm nhiệm vụ
```

**Vấn đề**: Không có ví dụ, AI không biết "định dạng rõ ràng" mà bạn kỳ vọng trông như thế nào.

### ✅ Prompt tốt

```
Nhiệm vụ: Chuyển đổi User Story thành danh sách nhiệm vụ phát triển

Ví dụ:
User Story: Là người dùng, tôi muốn có thể lọc nhiệm vụ theo ngày
Nhiệm vụ phát triển:
【Frontend】
- Thêm component bộ chọn ngày
- Xử lý quản lý trạng thái lọc
- Cập nhật logic render danh sách nhiệm vụ
【Backend】
- Thêm tham số lọc ngày cho API
- Xử lý điều kiện truy vấn database

Bây giờ hãy xử lý:
User Story: Là người dùng, tôi muốn có thể tìm kiếm nhiệm vụ
```

### So sánh đầu ra

Đầu ra của Prompt tốt sẽ tuân thủ nghiêm ngặt định dạng ví dụ:

```
Nhiệm vụ phát triển:
【Frontend】
- Thêm component ô tìm kiếm
- Xử lý quản lý trạng thái từ khóa tìm kiếm
- Xử lý logic debounce tìm kiếm
- Cập nhật render danh sách nhiệm vụ, highlight từ khóa
【Backend】
- Thêm tham số từ khóa tìm kiếm cho API
- Xử lý truy vấn database dạng fuzzy matching (khớp mờ)
```

## Ví dụ thực chiến: Dự án danh sách việc cần làm

Tiểu Lý cần AI giúp tạo định nghĩa kiểu TypeScript cho nhiều component. Cậu ấy muốn định dạng thống nhất.

### Prompt Few-shot

```
Nhiệm vụ: Tạo định nghĩa kiểu TypeScript Props cho React Component

Ví dụ 1:
Mô tả component: Một component hiển thị tiêu đề nhiệm vụ, tiêu đề bắt buộc, trạng thái hoàn thành tùy chọn
Đầu ra:
interface TaskTitleProps {
  title: string;           // Tiêu đề nhiệm vụ, bắt buộc
  isCompleted?: boolean;   // Trạng thái hoàn thành, tùy chọn
}

Ví dụ 2:
Mô tả component: Một component nút bấm, hiển thị chữ bắt buộc, sự kiện click bắt buộc, trạng thái vô hiệu hóa tùy chọn
Đầu ra:
interface ButtonProps {
  label: string;           // Chữ trên nút, bắt buộc
  onClick: () => void;     // Sự kiện click, bắt buộc
  disabled?: boolean;      // Trạng thái vô hiệu hóa, tùy chọn
}

Bây giờ hãy xử lý:
Mô tả component: Một component thẻ nhiệm vụ, bao gồm tiêu đề bắt buộc, mô tả tùy chọn, hạn chót tùy chọn, độ ưu tiên bắt buộc (cao/trung/thấp)
```

### Đầu ra của AI

```typescript
interface TaskCardProps {
  title: string; // Tiêu đề nhiệm vụ, bắt buộc
  description?: string; // Mô tả nhiệm vụ, tùy chọn
  dueDate?: Date; // Hạn chót, tùy chọn
  priority: "high" | "medium" | "low"; // Độ ưu tiên, bắt buộc
}
```

Để ý AI đã tự động học được:

- Phong cách chú thích (`// Giải thích, bắt buộc/tùy chọn`)
- Thuộc tính tùy chọn dùng `?`
- Kiểu liệt kê dùng Union Type

## Bối cảnh phù hợp

| Bối cảnh             | Ví dụ                                | Tại sao cần Few-shot        |
| :------------------- | :----------------------------------- | :-------------------------- |
| Đầu ra định dạng hóa | Tạo tài liệu API                     | Đảm bảo định dạng nhất quán |
| Nhiệm vụ phân loại   | Phân tích tình cảm, phân loại nhãn   | Làm rõ tiêu chuẩn phân loại |
| Nhiệm vụ chuyển đổi  | Nhu cầu → Nhiệm vụ, Code → Tài liệu  | Học quy tắc chuyển đổi      |
| Mô phỏng phong cách  | Viết nội dung theo phong cách cụ thể | Học phong cách ngôn ngữ     |

## Hạn chế của Few-shot

| Hạn chế            | Biểu hiện                           | Giải pháp                                                       |
| :----------------- | :---------------------------------- | :-------------------------------------------------------------- |
| Tốn nhiều Token    | Ví dụ chiếm nhiều ngữ cảnh          | Tinh giản ví dụ, chỉ giữ lại thông tin then chốt                |
| Khó chọn ví dụ     | Chọn sai ví dụ dẫn đến hiệu quả kém | Tuân thủ nguyên tắc đại diện, đa dạng, nhất quán                |
| Bắt chước thái quá | AI sao chép cả chi tiết của ví dụ   | Dùng nội dung ví dụ khác nhau, chỉ giữ lại định dạng giống nhau |

## Mẫu có thể sao chép

### Mẫu Few-shot chung

```markdown
Nhiệm vụ: [Mô tả nhiệm vụ]

Ví dụ 1:
Đầu vào: [Đầu vào ví dụ 1]
Đầu ra:
[Đầu ra ví dụ 1]

Ví dụ 2:
Đầu vào: [Đầu vào ví dụ 2]
Đầu ra:
[Đầu ra ví dụ 2]

Bây giờ hãy xử lý:
Đầu vào: [Đầu vào thực tế]
```

### Mẫu nhiệm vụ phân loại

```markdown
Nhiệm vụ: Phân loại phản hồi người dùng vào [Danh sách phân loại]

Ví dụ:
Phản hồi: "[Phản hồi ví dụ 1]"
Phân loại: [Loại]

Phản hồi: "[Phản hồi ví dụ 2]"
Phân loại: [Loại]

Phản hồi: "[Phản hồi ví dụ 3]"
Phân loại: [Loại]

Vui lòng phân loại:
Phản hồi: "[Nội dung chờ phân loại]"
```

### Mẫu nhiệm vụ chuyển đổi

```markdown
Nhiệm vụ: Chuyển đổi [Định dạng nguồn] sang [Định dạng đích]

Ví dụ quy tắc chuyển đổi:

Nguồn: [Nội dung nguồn ví dụ]
Đích:
[Nội dung đích ví dụ]

Nguồn: [Nội dung nguồn ví dụ]
Đích:
[Nội dung đích ví dụ]

Vui lòng chuyển đổi:
Nguồn: [Nội dung thực tế]
```

## Dự báo nâng cao: Few-shot động

Trong phần nâng cao, bạn sẽ học "Few-shot động" —— Tự động **lựa chọn ví dụ liên quan nhất** dựa trên đầu vào của người dùng, nâng cao hiệu quả hơn nữa và tiết kiệm token.

## Trọng điểm bài học

✓ **Bản chất của Few-shot**: Dùng ví dụ dạy AI nhận biết mẫu, thay vì dùng văn bản giải thích quy tắc

✓ **Số lượng ví dụ**: 2-3 cái là điểm cân bằng tốt nhất

✓ **3 nguyên tắc chọn ví dụ**: Tính đại diện, tính đa dạng, tính nhất quán định dạng

✓ **Bối cảnh phù hợp**: Đầu ra định dạng hóa, phân loại, chuyển đổi, mô phỏng phong cách

✓ **Lựa chọn với Zero-shot**: Nếu định dạng Zero-shot không ổn định, hãy chuyển sang Few-shot

Bài sau, chúng ta sẽ học cách để AI "nghĩ một chút rồi mới trả lời" —— Chain of Thought.
