
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3.5.5 Start New Chat</title>
    <style>
        body { font-family: system-ui, -apple-system, sans-serif; line-height: 1.6; max-width: 800px; margin: 0 auto; padding: 20px; color: #333; }
        pre { background: #f4f4f4; padding: 15px; border-radius: 5px; overflow-x: auto; }
        code { background: #f4f4f4; padding: 2px 5px; border-radius: 3px; font-family: monospace; }
        a { color: #007bff; text-decoration: none; }
        a:hover { text-decoration: underline; }
        table { border-collapse: collapse; width: 100%; margin: 20px 0; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
        img { max-width: 100%; height: auto; }
    </style>
</head>
<body>
<hr />
<h2>title: "3.5.5 Biết khi nào nên bắt đầu cuộc hội thoại mới"</h2>
<p><img alt="03-technique_3.5-iterative-dialogue_3.5.5-start-new-chat.png" src="../../../public/images/Basic/03-technique_3.5-iterative-dialogue_3.5.5-start-new-chat.png" /></p>
<h1>3.5.5 Biết khi nào nên bắt đầu cuộc hội thoại mới</h1>
<h2>Qua phần học này, bạn sẽ nắm vững</h2>
<ul>
<li>Nhận biết ba tín hiệu "nên mở hội thoại mới"</li>
<li>Hiểu tại sao "khởi đầu mới" đôi khi hiệu quả hơn "tiếp tục sửa chữa"</li>
<li>Học cách "chuyển nhà": Mang thông tin quan trọng từ hội thoại cũ sang hội thoại mới</li>
<li>Có được một mẫu khởi động hội thoại mới có thể sao chép</li>
</ul>
<h2>Hội thoại cũ quá dài sẽ thế nào?</h2>
<p>Trong phần 3.5.4, chúng ta đã nói về khái niệm cửa sổ ngữ cảnh. Khi hội thoại quá dài, nội dung ban đầu sẽ bị đẩy ra khỏi cửa sổ, dẫn đến việc AI "mất trí nhớ".</p>
<p>Nhưng vấn đề không chỉ dừng lại ở đó. Ngay cả khi nội dung chưa bị đẩy ra, <strong>hội thoại quá dài cũng sẽ làm giảm hiệu suất của AI</strong>:</p>
<table>
<thead>
<tr>
<th>Vấn đề</th>
<th>Nguyên nhân</th>
</tr>
</thead>
<tbody>
<tr>
<td>Phản hồi chậm đi</td>
<td>Cần xử lý nhiều thông tin lịch sử hơn</td>
</tr>
<tr>
<td>Dễ bỏ sót chỉ thị</td>
<td>Thông tin quan trọng bị chìm trong lượng lớn đối thoại</td>
</tr>
<tr>
<td>Dễ sai sót hơn</td>
<td>Thông tin mâu thuẫn trong lịch sử sẽ gây nhiễu phán đoán</td>
</tr>
<tr>
<td>Khó gỡ lỗi</td>
<td>Bạn cũng rất khó truy lại xem vấn đề xuất phát từ vòng nào</td>
</tr>
</tbody>
</table>
<p>Đôi khi, mở một cuộc hội thoại mới hiệu quả hơn nhiều so với việc tiếp tục vật lộn trong cuộc hội thoại cũ.</p>
<h2>Ba tín hiệu "nên mở hội thoại mới"</h2>
<h3>Tín hiệu 1: Hội thoại vượt quá 20 vòng</h3>
<p>Đây là một con số kinh nghiệm. Khi số vòng đối thoại vượt quá 20 vòng (bạn gửi một tin, AI trả lời một tin tính là một vòng), thì nên cân nhắc mở hội thoại mới.</p>
<pre><code>Tại sao là 20 vòng?
- Mỗi vòng đối thoại trung bình 500-1000 tokens
- 20 vòng ≈ 10K-20K tokens
- Đã chiếm một tỷ lệ đáng kể của cửa sổ ngữ cảnh
</code></pre>
<p><strong>Trường hợp ngoại lệ</strong>: Nếu bạn dùng model có cửa sổ ngữ cảnh lớn (như Claude 200K), có thể nới lỏng lên 30-40 vòng.</p>
<h3>Tín hiệu 2: AI bắt đầu "quên" các giao ước ban đầu</h3>
<p>Khi bạn phát hiện các tình huống sau, chứng tỏ việc quản lý ngữ cảnh đã mất hiệu lực:</p>
<pre><code>❌ Vòng 1 bạn nói dùng TypeScript, vòng 18 AI đưa cho bạn JavaScript
❌ Vòng 3 bạn nói đừng dùng any, vòng 15 trong code của AI toàn là any
❌ Bạn hỏi &quot;theo định dạng trước đó&quot;, AI hỏi bạn &quot;định dạng gì?&quot;
</code></pre>
<p><strong>Phương pháp phán đoán</strong>: Nếu bạn thấy mình cần lặp đi lặp lại cùng một giao ước (quá 3 lần), thì nên mở hội thoại mới.</p>
<h3>Tín hiệu 3: Chủ đề thay đổi căn bản</h3>
<p>Khi bạn chuyển từ một nhiệm vụ này sang một nhiệm vụ hoàn toàn khác, lịch sử của hội thoại cũ ngược lại sẽ gây nhiễu.</p>
<pre><code>Chủ đề cũ: Thực hiện chức năng đăng nhập người dùng
Chủ đề mới: Thiết kế cấu trúc bảng cơ sở dữ liệu

Hai chủ đề không liên quan nhiều, code đăng nhập trong đối thoại cũ sẽ chiếm không gian ngữ cảnh,
nhưng lại không giúp ích gì cho việc thiết kế cơ sở dữ liệu.
</code></pre>
<p><strong>Quy tắc kinh nghiệm</strong>: Nếu nhiệm vụ mới và nội dung đối thoại trước đó không có liên quan trực tiếp, hãy mở hội thoại mới.</p>
<h2>Bảng tra cứu nhanh ba tín hiệu</h2>
<table>
<thead>
<tr>
<th>Tín hiệu</th>
<th>Tiêu chuẩn phán đoán</th>
<th>Hành động</th>
</tr>
</thead>
<tbody>
<tr>
<td>Quá nhiều vòng</td>
<td>Vượt quá 20 vòng</td>
<td>Cân nhắc mở hội thoại mới</td>
</tr>
<tr>
<td>AI mất trí nhớ</td>
<td>Lặp lại giao ước quá 3 lần</td>
<td>Mở hội thoại mới ngay lập tức</td>
</tr>
<tr>
<td>Chuyển chủ đề</td>
<td>Nhiệm vụ mới không liên quan lịch sử</td>
<td>Mở hội thoại mới</td>
</tr>
</tbody>
</table>
<h2>Làm thế nào để "chuyển nhà": Mang thông tin quan trọng sang hội thoại mới</h2>
<p>Mở hội thoại mới không có nghĩa là bắt đầu từ con số 0. Bạn cần "chuyển" các thông tin quan trọng sang hội thoại mới.</p>
<h3>Bước 1: Trích xuất thông tin quan trọng từ hội thoại cũ</h3>
<p>Trước khi kết thúc hội thoại cũ, hãy bảo AI giúp bạn tóm tắt:</p>
<pre><code class="language-markdown">Hãy tóm tắt thông tin quan trọng của cuộc đối thoại lần này, bao gồm:
1. Stack kỹ thuật và giao ước của dự án
2. Danh sách chức năng đã hoàn thành
3. Cấu trúc code hiện tại
4. Các vấn đề tồn đọng hoặc việc cần làm

Hãy xuất ra dưới định dạng Markdown ngắn gọn, để tôi tiện sao chép sang hội thoại mới.
</code></pre>
<h3>Bước 2: Lưu tóm tắt</h3>
<p>Lưu lại bản tóm tắt của AI. Có thể:
- Sao chép vào một file văn bản
- Lưu vào README hoặc NOTES.md của dự án
- Ghi nhớ trực tiếp trong đầu (nếu nội dung không nhiều)</p>
<h3>Bước 3: Xây dựng lại ngữ cảnh trong hội thoại mới</h3>
<p>Dùng thông tin đã trích xuất để bắt đầu hội thoại mới:</p>
<pre><code class="language-markdown">Tôi muốn tiếp tục phát triển dự án danh sách việc cần làm. Dưới đây là bối cảnh dự án:

**Stack kỹ thuật**:
- React 18 + TypeScript
- Tailwind CSS
- Quản lý trạng thái Zustand

**Chức năng đã hoàn thành**:
- Thêm nhiệm vụ (có xác thực nhập rỗng)
- Xóa nhiệm vụ (có nhắc nhở xác nhận)
- Hiển thị danh sách nhiệm vụ

**Cấu trúc code**:
- src/components/AddTaskForm.tsx
- src/components/TaskList.tsx
- src/components/TaskItem.tsx
- src/store/taskStore.ts

**Nhiệm vụ hiện tại**:
Thực hiện chức năng sửa nhiệm vụ — nhấn vào nhiệm vụ có thể sửa tiêu đề

Hãy dựa trên bối cảnh trên, giúp tôi thực hiện chức năng sửa nhiệm vụ.
</code></pre>
<h2>Mẫu có thể sao chép: Prompt khởi động hội thoại mới</h2>
<h3>Mẫu chung</h3>
<pre><code class="language-markdown">Tôi muốn tiếp tục phát triển [Tên dự án]. Dưới đây là bối cảnh dự án:

## Stack kỹ thuật
- [Kỹ thuật 1]
- [Kỹ thuật 2]
- [Kỹ thuật 3]

## Giao ước code
- [Giao ước 1]
- [Giao ước 2]
- [Giao ước 3]

## Chức năng đã hoàn thành
1. [Chức năng 1]
2. [Chức năng 2]
3. [Chức năng 3]

## Cấu trúc code
- [Thư mục/File 1]: [Công dụng]
- [Thư mục/File 2]: [Công dụng]

## Nhiệm vụ lần này
[Mô tả chi tiết việc bạn muốn làm]

Hãy bắt đầu dựa trên bối cảnh trên.
</code></pre>
<h3>Mẫu đơn giản (Dành cho dự án đơn giản)</h3>
<pre><code class="language-markdown">Tiếp tục phát triển [Tên dự án], stack kỹ thuật: [Stack kỹ thuật].

Đã hoàn thành: [Liệt kê ngắn gọn]
Bây giờ cần làm: [Nhiệm vụ lần này]

Lưu ý:
1. [Giao ước 1]
2. [Giao ước 2]
</code></pre>
<h3>Mẫu kèm ngữ cảnh code</h3>
<pre><code class="language-markdown">Tôi muốn tiếp tục phát triển một chức năng. Dưới đây là code hiện có liên quan:

**Component hiện có** (TaskList.tsx):
```tsx
// Dán đoạn code liên quan vào đây
</code></pre>
<p><strong>Bây giờ cần</strong>:
[Mô tả việc bạn cần AI làm]</p>
<p><strong>Vui lòng chú ý</strong>:
- Giữ nhất quán với phong cách code hiện tại
- [Giao ước khác]</p>
<pre><code>
## Khi nào không cần mở hội thoại mới?

Đôi khi hội thoại cũ vẫn là lựa chọn tốt hơn:

| Tình huống | Gợi ý | Nguyên nhân |
|-----|------|------|
| Hội thoại vẫn trong vòng 10 vòng | Tiếp tục hội thoại cũ | Thông tin lịch sử vẫn có giá trị |
| Đang gỡ một bug | Tiếp tục hội thoại cũ | Ngữ cảnh lỗi rất quan trọng |
| Chức năng thực hiện được một nửa | Tiếp tục hội thoại cũ | Tránh phải giải thích lại |
| Cần tham chiếu code trước đó | Tiếp tục hội thoại cũ | Code có thể tham chiếu trực tiếp trong lịch sử |

**Nguyên tắc cốt lõi**: Nếu lịch sử hội thoại cũ vẫn có ích cho nhiệm vụ hiện tại, hãy dùng tiếp; nếu đã trở thành gánh nặng, hãy dứt khoát mở cái mới.

## Lợi thế tâm lý của &quot;Khởi đầu mới&quot;

Ngoài lý do kỹ thuật, mở hội thoại mới còn có lợi ích về mặt tâm lý:

</code></pre>
<p>Hội thoại cũ:
"Nãy giờ sửa bao nhiêu vòng rồi mà vẫn chưa xong, có phải tại mình không..."</p>
<p>Hội thoại mới:
"Đây là một khởi đầu hoàn toàn mới, lần này chắc chắn sẽ được"</p>
<pre><code>
Đôi khi, một điểm khởi đầu sạch sẽ giúp bạn suy nghĩ vấn đề rõ ràng hơn.

## Mẹo thực chiến: Đặt tên hội thoại

Nhiều công cụ AI hỗ trợ đặt tên cho cuộc hội thoại. Hãy tận dụng chức năng này:

</code></pre>
<p>❌ Đặt tên mặc định: "New Chat", "Untitled"
✅ Đặt tên có ý nghĩa: "ToDo-Chức năng thêm", "ToDo-Chức năng xóa"
```</p>
<p>Tên gọi hay sẽ giúp bạn:
- Tìm lại lịch sử đối thoại nhanh chóng
- Biết mỗi cuộc đối thoại đang làm gì
- Quyết định nên tiếp tục hội thoại cũ hay mở cái mới</p>
<h2>Điểm cốt yếu phần này</h2>
<p>✓ <strong>Ba tín hiệu</strong>: Quá 20 vòng, AI lặp lại việc mất trí nhớ, chủ đề thay đổi căn bản</p>
<p>✓ <strong>Giá trị của khởi đầu mới</strong>: Đôi khi hiệu quả hơn là tiếp tục sửa chữa</p>
<p>✓ <strong>Quy trình chuyển nhà</strong>: Để AI tóm tắt → Lưu lại → Xây dựng lại ngữ cảnh trong hội thoại mới</p>
<p>✓ <strong>Mẫu khởi động</strong>: Dùng Prompt có cấu trúc để bắt đầu hội thoại mới, nhanh chóng xây dựng lại ngữ cảnh</p>
<p>✓ <strong>Đặt tên hội thoại</strong>: Đặt tên có ý nghĩa cho hội thoại, thuận tiện quản lý</p>
<h2>Tổng kết chương</h2>
<p>Chúc mừng bạn đã hoàn thành việc học phần 3.5 "Nghệ thuật đối thoại lặp lại".</p>
<p>Ôn lại xem bạn đã học được gì:</p>
<table>
<thead>
<tr>
<th>Tiểu tiết</th>
<th>Thu hoạch cốt lõi</th>
</tr>
</thead>
<tbody>
<tr>
<td>3.5.1</td>
<td>Làm một lần xong ngay là ảo giác, lặp lại là trạng thái bình thường</td>
</tr>
<tr>
<td>3.5.2</td>
<td>Mô hình ba giai đoạn: Xem hướng đi -&gt; Sửa vấn đề -&gt; Mài giũa chi tiết</td>
</tr>
<tr>
<td>3.5.3</td>
<td>Khung phản hồi SBI, giúp AI hiểu chính xác nhu cầu sửa đổi của bạn</td>
</tr>
<tr>
<td>3.5.4</td>
<td>Bốn kỹ thuật quản lý ngữ cảnh + Cấu hình cấp công cụ</td>
</tr>
<tr>
<td>3.5.5</td>
<td>Biết khi nào "chuyển nhà", làm thế nào để "chuyển nhà"</td>
</tr>
</tbody>
</table>
<p><strong>Một câu tóm tắt</strong>: Lặp lại không phải là thất bại, mà là con đường tất yếu dẫn đến thành công.</p>
<p>Phần tiếp theo (3.6), chúng ta sẽ học khi AI "không nghe lời" — xuất ra sai, tạo ảo giác, code có bug — làm thế nào để chẩn đoán vấn đề và sửa chữa.</p>
</body>
</html>
