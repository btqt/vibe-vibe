---
title: "4.5.2 Dùng AI giúp bạn sửa mã AI"
order: 3
---


![04-practice-0-to-1_4.5-debug_4.5.2-fix-with-ai.png](../../../public/images/Basic/04-practice-0-to-1_4.5-debug_4.5.2-fix-with-ai.png)
# 4.5.2 Dùng AI giúp bạn sửa mã AI

Qua phần học này, bạn sẽ nắm bắt được:
- Quy trình chuẩn để báo cáo vấn đề cho AI
- Ba mẫu Prompt (nhắc lệnh): Chẩn đoán, Sửa chữa, Xác thực
- Những sai lầm thường gặp khiến việc giao tiếp kém hiệu quả

## Quy trình Debug 3 bước

Để dùng AI sửa lỗi mã nguồn, hãy tuân thủ quy trình 3 bước "Chẩn đoán → Sửa chữa → Xác thực":

```
┌─────────┐    ┌─────────┐    ┌─────────┐
│  Chẩn đoán  │ → │  Sửa chữa  │ → │  Xác thực  │
│ Tìm nguyên nhân │    │ Lấy giải pháp │    │ Xác nhận giải quyết │
└─────────┘    └─────────┘    └─────────┘
```

Mỗi bước đều có mẫu Prompt tương ứng.

## Bước 1: Prompt Chẩn đoán

Mục tiêu: Để AI giúp bạn phân tích nguyên nhân vấn đề, chứ không phải đưa ngay mã sửa chữa.

**Mẫu Prompt Chẩn đoán**:

```
Mã nguồn danh sách việc cần làm của tôi gặp vấn đề, hãy giúp tôi phân tích nguyên nhân.

【Hiện tượng lỗi】
[Mô tả những gì bạn nhìn thấy]

【Báo lỗi trong Console】
[Dán toàn bộ thông tin báo lỗi, bao gồm số dòng]

【Mã nguồn liên quan】
[Dán đoạn mã gần vị trí báo lỗi, khoảng 10-20 dòng]

Hãy giúp tôi phân tích:
1. Lỗi này có nghĩa là gì?
2. Nguyên nhân khả năng cao nhất là gì?
3. Cần kiểm tra những chỗ nào?

Khoan hãy đưa mã sửa chữa, tôi muốn hiểu vấn đề trước.
```

**Tại sao phải chẩn đoán trước**: Trực tiếp để AI sửa chữa đôi khi sẽ chỉ "chữa ngọn không chữa gốc". Hiểu vấn đề trước, bạn mới đánh giá được giải pháp sửa chữa của AI có đáng tin cậy hay không.

**Ví dụ Prompt Chẩn đoán**:

```
Mã nguồn danh sách việc cần làm của tôi gặp vấn đề, hãy giúp tôi phân tích nguyên nhân.

【Hiện tượng lỗi】
Sau khi nhấp nút thêm, nhiệm vụ không xuất hiện trong danh sách

【Báo lỗi trong Console】
Uncaught TypeError: Cannot read properties of undefined (reading 'push')
    at addTask (index.html:45:15)

【Mã nguồn liên quan】
function addTask() {
    const input = document.querySelector('.task-input');
    const taskText = input.value.trim();
    if (taskText) {
        tasks.push({ text: taskText, completed: false });
        renderTasks();
        input.value = '';
    }
}

Hãy giúp tôi phân tích:
1. Lỗi này có nghĩa là gì?
2. Nguyên nhân khả năng cao nhất là gì?
3. Cần kiểm tra những chỗ nào?

Khoan hãy đưa mã sửa chữa, tôi muốn hiểu vấn đề trước.
```

## Bước 2: Prompt Sửa chữa

Mục tiêu: Sau khi đã hiểu vấn đề, để AI cung cấp giải pháp sửa chữa.

**Mẫu Prompt Sửa chữa**:

```
Dựa trên phân tích vừa rồi, hãy giúp tôi sửa vấn đề này.

【Nguyên nhân vấn đề】
[Dùng lời của bạn thuật lại nguyên nhân AI đã phân tích]

【Yêu cầu sửa chữa】
1. Đưa ra mã nguồn hoàn chỉnh sau khi sửa
2. Dùng chú thích đánh dấu những chỗ đã sửa
3. Giải thích tại sao sửa như vậy lại giải quyết được vấn đề

【Yêu cầu kỹ thuật】
- Giữ nguyên phong cách mã nguồn cũ
- Không thay đổi các chức năng khác
- Các logic quan trọng thêm chú thích tiếng Việt
```

**Ví dụ Prompt Sửa chữa**:

```
Dựa trên phân tích vừa rồi, hãy giúp tôi sửa vấn đề này.

【Nguyên nhân vấn đề】
Biến tasks chưa được khởi tạo trước khi sử dụng, nên là undefined, không thể gọi phương thức push

【Yêu cầu sửa chữa】
1. Đưa ra mã nguồn hoàn chỉnh sau khi sửa
2. Dùng chú thích đánh dấu những chỗ đã sửa
3. Giải thích tại sao sửa như vậy lại giải quyết được vấn đề

【Yêu cầu kỹ thuật】
- Giữ nguyên phong cách mã nguồn cũ
- Không thay đổi các chức năng khác
- Các logic quan trọng thêm chú thích tiếng Việt
```

## Bước 3: Prompt Xác thực

Mục tiêu: Sau khi sửa mã, để AI giúp bạn xác nhận vấn đề đã thực sự được giải quyết chưa.

**Mẫu Prompt Xác thực**:

```
Tôi đã sửa mã theo gợi ý của bạn. Hãy giúp tôi xác thực:

【Mã sau khi sửa】
[Dán mã sau khi sửa]

【Trạng thái hiện tại】
[Mô tả tình hình chạy hiện tại]

Hãy xác nhận:
1. Vấn đề ban đầu đã được giải quyết chưa?
2. Việc sửa đổi có gây ra vấn đề mới nào không?
3. Còn chỗ nào cần lưu ý không?
```

## Danh sách thu thập thông tin hiệu quả

Khi báo cáo vấn đề cho AI, thông tin cung cấp càng đầy đủ, câu trả lời của AI càng chính xác.

**Thông tin bắt buộc phải cung cấp**:

| Loại thông tin | Giải thích | Cách lấy |
|---------|------|---------|
| Hiện tượng lỗi | Đã xảy ra chuyện gì | Mô tả bằng lời của bạn |
| Báo lỗi Console | Văn bản báo lỗi đầy đủ | Sao chép từ Console |
| Mã nguồn liên quan | Mã gần vị trí báo lỗi | Định vị theo số dòng |

**Thông tin khuyến nghị cung cấp**:

| Loại thông tin | Giải thích | Cách lấy |
|---------|------|---------|
| Các bước thao tác của bạn | Làm gì thì bị lỗi | Nhớ lại và ghi chép |
| Trạng thái trước đó | Trước khi lỗi mã có bình thường không | Nhớ lại |
| Các phương pháp đã thử | Bạn đã thử làm gì rồi | Ghi chép |

## Các sai lầm giao tiếp thường gặp

Dưới đây là một số mô tả vấn đề không hiệu quả, và cách cải thiện:

### Sai lầm 1: Mô tả quá mơ hồ

| Mô tả không hiệu quả | Mô tả hiệu quả |
|---------|---------|
| "Mã không chạy" | "Sau khi nhấp nút thêm, nhiệm vụ không xuất hiện trong danh sách" |
| "Có lỗi" | "Console hiển thị TypeError: Cannot read properties of undefined" |
| "Kiểu dáng có vấn đề" | "Màu nền của danh sách nhiệm vụ biến mất, trở thành màu trắng" |

### Sai lầm 2: Không cung cấp thông tin báo lỗi

| Cách làm không hiệu quả | Cách làm hiệu quả |
|---------|---------|
| "Console có báo lỗi" | Sao chép đầy đủ thông tin báo lỗi, bao gồm số dòng |
| "Tôi thấy chữ đỏ" | Chụp màn hình hoặc sao chép nội dung chữ đỏ |

### Sai lầm 3: Hỏi quá nhiều vấn đề một lúc

| Cách làm không hiệu quả | Cách làm hiệu quả |
|---------|---------|
| "Thêm không được, xóa cũng không được, làm mới còn mất dữ liệu" | Giải quyết từng vấn đề một, xác nhận sửa xong rồi mới xử lý cái tiếp theo |

### Sai lầm 4: Không cung cấp ngữ cảnh mã nguồn

| Cách làm không hiệu quả | Cách làm hiệu quả |
|---------|---------|
| "Dòng 45 có vấn đề" | Dán mã từ dòng 40-50, để AI thấy được ngữ cảnh |

## Mẫu câu sửa nhanh

Nếu bạn muốn bỏ qua bước chẩn đoán, trực tiếp để AI sửa chữa, có thể dùng mẫu câu rút gọn này:

```
Danh sách việc cần làm của tôi bị lỗi:

【Hiện tượng】[Mô tả một câu]
【Báo lỗi】[Dán báo lỗi console]
【Mã nguồn】
[Dán mã nguồn liên quan]

Hãy trực tiếp đưa cho tôi mã hoàn chỉnh sau khi sửa lỗi.
```

**Ví dụ**:

```
Danh sách việc cần làm của tôi bị lỗi:

【Hiện tượng】Nhấp nút thêm không phản ứng
【Báo lỗi】Uncaught TypeError: Cannot read properties of undefined (reading 'push')
    at addTask (index.html:45:15)
【Mã nguồn】
function addTask() {
    const input = document.querySelector('.task-input');
    const taskText = input.value.trim();
    if (taskText) {
        tasks.push({ text: taskText, completed: false });
        renderTasks();
        input.value = '';
    }
}

Hãy trực tiếp đưa cho tôi mã hoàn chỉnh sau khi sửa lỗi.
```

## Điểm chính phần này

- Debug tuân thủ quy trình 3 bước "Chẩn đoán → Sửa chữa → Xác thực"
- Khi chẩn đoán hãy hiểu vấn đề trước, đừng vội lấy mã sửa chữa
- Cung cấp thông tin đầy đủ: Hiện tượng + Báo lỗi + Mã nguồn
- Tránh mô tả mơ hồ, mỗi lần chỉ giải quyết một vấn đề
- Mẫu câu sửa nhanh thích hợp cho vấn đề đơn giản, vấn đề phức tạp nên đi theo quy trình đầy đủ

Tiếp theo, chúng ta hãy xem các phương pháp này được áp dụng như thế nào qua các trường hợp thực tế.

→ [4.5.3 Phân tích trường hợp thực tế](./4.5.3-real-cases_vi.md)
